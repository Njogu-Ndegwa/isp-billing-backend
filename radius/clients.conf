# FreeRADIUS Clients Configuration
# =================================
# Defines which devices (NAS) can send RADIUS requests to this server.
# The shared secret must match on both sides (here AND on the MikroTik router).

# Docker internal network (for app-to-radius communication)
client docker_network {
    ipaddr = 172.16.0.0/12
    secret = testing123
    shortname = docker_internal
    nas_type = other
}

# Allow localhost for testing
client localhost {
    ipaddr = 127.0.0.1
    secret = testing123
    shortname = localhost
    nas_type = other
}

# WireGuard VPN subnet - covers all routers connecting via WireGuard tunnel
# The secret here MUST match what you set in:
#   1. The billing API: POST /api/radius/routers/{id}/enable  (radius_secret field)
#   2. The MikroTik:    /radius add ... secret=testing12345
client wireguard_routers {
    ipaddr = 10.0.0.0/24
    secret = testing12345
    shortname = wg_routers
    nas_type = mikrotik
}
